<!DOCTYPE html>
<html lang="de" class="loading">
	<head>
		<meta charset="utf-8">
		<title>Biblio</title>
		<style>html {     -webkit-transition: background-color 1s;     transition: background-color 1s; } html, body {     /* For the loading indicator to be vertically centered ensure */     /* the html and body elements take up the full viewport */     min-height: 100%; } html.loading {     /* Replace #333 with the background-color of your choice */     /* Replace loading.gif with the loading image of your choice */     background: #333 url('assets/loading.gif') no-repeat 50% 50%;      /* Ensures that the transition only runs in one direction */     -webkit-transition: background-color 0;     transition: background-color 0; } body {     -webkit-transition: opacity 1s ease-in;     transition: opacity 1s ease-in; } html.loading body {     /* Make the contents of the body opaque during loading */     opacity: 0;      /* Ensures that the transition only runs in one direction */     -webkit-transition: opacity 0;     transition: opacity 0; }</style>
		<link rel='stylesheet' type='text/css' href='/css/style.css'>
		<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
		<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" async></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js" defer></script>
		<script src="http://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js" async></script>
		<script src="http://threejs.org/examples/js/libs/stats.min.js" async></script> -->
		<script src="/js/js_bundle.js" async></script>
		<script src="/js/functions.js" async></script>
	</head>
	<body onload="onload();">
		<!-- <div id="load" style="width: 100%;height: 100%;z-index: 100000;position: absolute;background-color: white;">
			<svg width="100px" height="100px" style="position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);"><use xlink:href="#loading_color"></use></svg>
			<svg width="100px" height="100px" style="position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);" src="assets/loading.svg"></svg>	
		</div> -->
		<div id="particles-js"></div>
		<div style="display: none;" class="count-particles"> <span class="js-count-particles">--</span> particles </div>
		<svg style="width: 0px;height: 0px;">
			<defs>
				<linearGradient id="color_gradient" x1="0%" y1="0%" x2="100%" y2="100%">
					<stop offset="0%" style="stop-color:#e22828;stop-opacity:1"></stop>
					<stop offset="100%" style="stop-color:#ff8c2f;stop-opacity:1"></stop>
				</linearGradient>
			</defs>
		</svg>
		<svg>
			<defs>
				<g id="search_icon">
					<path fill="url(#color_gradient)" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
					<path d="M0 0h24v24H0z" fill="none"></path>
				</g>
				<g id="loading_color">
					<circle cx="50" cy="50" ng-attr-r="{{config.radius}}" ng-attr-stroke-width="{{config.width}}" ng-attr-stroke="{{config.stroke}}" ng-attr-stroke-dasharray="{{config.dasharray}}" fill="none" stroke-linecap="round" r="40" stroke-width="4" stroke="url(#color_gradient)" stroke-dasharray="62.83185307179586 62.83185307179586" transform="rotate(265.18 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></circle>
				</g>
			</defs>
		</svg>
		<svg>
			<defs>
				<g id="search_icon_white">
					<path fill="white" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
					<path d="M0 0h24v24H0z" fill="none"></path>
				</g>
			</defs>
		</svg>
		<div id="login_div">
			<h1 id="login_h">Login</h1>
			<p id="login_error_message" style="color:red;margin: 3px;"></p>
			<form name="login_form" id="login_form" onsubmit="return false">
				<input type="text" class="login_input input_gray input_focus_color" id="login_email" placeholder="Email" autocomplete="username" autofocus>
				<input autocomplete="current-password" type="password" class="login_input input_gray input_focus_color" id="login_passwort" placeholder="Passwort">
				<br>
				<button style="width: 30%;" id="login_button" onclick="login();" class="button">Login</button>
			</form>
		</div>
		<div id="main">
			<div style="display: none;height: 5%;" id="nav_div">
				<ul class="nav_ul">
					<li class="nav_li"><a class="nav_a" id="nav_item_side1" onclick="switchToSide(1);">Medien E/A</a></li>
					<li class="nav_li"><a class="nav_a" id="nav_item_side2" onclick="switchToSide(2);">Katalogisierung</a></li>
					<li class="nav_li"><a class="nav_a" id="nav_item_side3" onclick="switchToSide(3);">Schüler</a></li>
					<li class="nav_li"><a class="nav_a" id="nav_item_side4" onclick="switchToSide(4);">Listen</a></li>
					<li class="nav_li" style="float: right;" onclick="logout();"><a class="nav_a">Logout</a></li>
				</ul>
			</div>
			<div style="display: none;height: 95%;width: 100%;" id="books_div">
				<div style="height: 100%;width: 100%;display: flex;flex-direction: row;flex-wrap: wrap;flex-flow: column;">
					<div class="book_div_horizontal">
						<div class="book_div_padding">
							<h1 style="text-align: center">Medium zurückgeben</h1>
						</div>
						<div class="book_div_padding">
							<h1 style="text-align: center">Medium ausleihen</h1>
						</div>
					</div>
					<div class="book_div_horizontal">
						<div class="book_div_padding">
							
						</div>
						<div class="book_div_padding">
							<form style="margin: auto;" onsubmit="return false">
								<select onchange="refreshBooksTable();" class="ausleihen_schüler_select" id="ausleihen_schüler_select" name="state"></select>
							</form>
							<br>
						</div>
					</div>
					<div class="book_div_horizontal">
						<div class="book_div_padding">
							<div class="book_input_div">
								<input style="width:70%;" id="media_return_input" placeholder="Barcode" autocomplete="off" onkeydown = "if (event.keyCode == 13){return_button_clicked();}" type="text" class="input_gray input_focus_color">
								<button style="width: 30%;margin: 10px 0 10px 0;" onclick="return_button_clicked();" class="button">zurückgeben</button>
							</div>
						</div>
						<div class="book_div_padding">
							<div class="book_input_div">
								<input style="width: 70%;" onkeypress="if (event.keyCode==13){ lend_button_clicked('lend_input_box',0);}" id="lend_input_box" type="text" placeholder="Barcode" autocomplete="off" class="input_gray input_focus_color">
								<button style="margin: 10px 0 10px 0;width: 30%" onclick="lend_button_clicked('lend_input_box',0);" class="button">ausleihen</button>
							</div>
							<div class="book_input_div">
								<input style="width: 70%;" type="text" onkeypress="if (event.keyCode==13){ lend_button_clicked('lend_input_box_holiday',1);}" id="lend_input_box_holiday" placeholder="Barcode" autocomplete="off" class="input_gray input_focus_color">
								<button style="margin: 10px 0 10px 0;width: 30%;" onclick="lend_button_clicked('lend_input_box_holiday',1);" class="button">Ferienausleihe</button>
							</div>
							<br>
						</div>
					</div>
					<div class="book_div_horizontal">
						<div class="book_div_padding">
							<h2 style="text-align: center;">Zuletzt zurückgegeben:</h2>
							<table class="table" id="return_history_table" style="margin: auto;width: 100%;">
								<tr class="tr">
									<th class="td">Buch</th>
									<th class="td">Barcode</th>
									<th class="td">Schüler</th>
									<th class="td">Zeit</th>
									<th class="td">rückgängig</th>
								</tr>
							</table>
						</div>
						<div class="book_div_padding">
							<h2 style="text-align: center;">Medien des Schülers:</h2>
							<table class="table" style="margin: auto;width: 100%;" id="ausleihen_tabelle">
								<tr class="tr_headline">
									<td class="td">Name</td>
									<td class="td">Barcode</td>
									<td class="td">überfällig</td>
								</tr>
							</table>
						</div>
					</div>
					<div style="flex-grow: 15;" class="book_div_horizontal">
						<div class="book_div_padding"></div>
						<div class="book_div_padding"></div>
					</div>
				</div>
			</div>
			<div style="display: none;width: 100%;" id="katalogisierung_div">
				<h1 style="text-align: center;">Katalogisierung</h1>
				<div id="media_search_side1" style="display: flex;flex-direction: row;flex-wrap: wrap;align-items: center; width:100%;">
					<div style="margin: auto;display: flex;flex-direction: row;align-items: center;">
						<input type="text" id="media_search_input" class="input_gray input_focus_color search_input">
						<svg onmouseenter="search_button_color_change(1,this);" onmouseleave="search_button_color_change(0,this);" onclick="refreshMediaSearch();" class="search_button">
							<use xlink:href="#search_icon"/>
						</svg>
					</div>
					<div style="width: 100%;">
						<table style="width: 90%;margin: auto;" id="media_search_table" class="table">
							<th class="td">id</th>
							<th class="td">Titel</th>
							<th class="td">Autor</th>
							<th class="td">Verlag</th>
							<th class="td">Preis</th>
							<th class="td">Schuljahr</th>
							<th class="td">Typ</th>
						</table>
					</div>
				</div>
				<div id="media_search_side2" style="display: none;">
					<h3>Titel</h3>
					<table id="media_details_table" class="table">
						<svg><use xlink:href="#loading_color"/></svg>
					</table>
				</div>
			</div>
			<div style="display: none;width:100%" id="schüler_div">
				<h1 style="text-align: center">Schüler</h1>
				<div style="display: flex;flex-direction: row;flex-wrap: wrap;align-items: center; width:100%;">
					<div style="margin: auto;display: flex;flex-direction: row;align-items: center;">
						<input type="text" id="student_search_input" class="input_gray input_focus_color search_input">
						<svg onmouseenter="search_button_color_change(1,this);" onmouseleave="search_button_color_change(0,this);" onclick="refreshStudentSearch();" class="search_button">
							<use xlink:href="#search_icon"/>
						</svg>
					</div>
					<div style="width: 100%;">
						<table style="width: 90%;margin: auto;" id="student_search_table" class="table">
							<th class="td">id</th>
							<th class="td">Name</th>
							<th class="td">Geburtstag</th>
							<th class="td">Klasse</th>
						</table>
					</div>
				</div>
			</div>
			<div style="display: none;" id="listen_div">
				<h1 style="text-align: center;">Listen</h1>
				<details open>
					<summary>Überfällige Medien</summary>
					<table class="table" id="overdue_table">
						<tr class="tr">
							<th class="td">Medium Name</th>
							<th class="td">Barcode</th>
							<th class="td">Schüler Name</th>
							<th class="td">Klasse</th>
						</tr>
					</table>
				</details>
				<br>
				<details open>
					<summary>Ferienausleihe</summary>
					<table class="table" id="overdue_holiday_table">
						<tr>
							<th class="td">Medium Name</th>
							<th class="td">Barcode</th>
							<th class="td">Schüler Name</th>
							<th class="td">Klasse</th>
						</tr>
					</table>
				</details>
			</div>
		</div>
	</body>
</html>
